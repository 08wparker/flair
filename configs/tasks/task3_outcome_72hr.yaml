# Task 3: 72-Hour Respiratory Outcome Prediction
# Multi-class classification: Predict respiratory status at 72 hours for IMV patients

task:
  name: task3_outcome_72hr
  display_name: "72-Hour Respiratory Outcome"
  description: "Predict respiratory status at 72 hours for mechanically ventilated patients"
  task_type: multiclass

input:
  window_hours: 24                # First 24 hours of ICU data
  prediction_window: [24, 72]     # Predict outcomes in 24-72hr window
  source: narratives

cohort:
  base: imv_only                  # Only patients on IMV at 24 hours
  filters:
    - imv_at_24hr == true

labels:
  column: task3_label
  class_names:
    - imv_on                      # Still on mechanical ventilation (class 0)
    - imv_off                     # Weaned from ventilation (class 1)
    - expired                     # Deceased (class 2)

evaluation:
  primary_metric: macro_f1
  metrics:
    - accuracy
    - macro_f1
    - weighted_f1
    - per_class_precision
    - per_class_recall
    - per_class_f1
    - confusion_matrix
  calibration: true
  subgroups:
    - age_group
    - sex_category

output:
  format: parquet
  files:
    - wide_dataset.parquet
    - labels.parquet
    - demographics.parquet
