# Task 2: Discharged to LTACH Prediction
# Binary classification: Predict discharge to Long-Term Acute Care Hospital

task:
  name: task2_discharged_ltach
  display_name: "Discharged to LTACH"
  description: "Predict whether patient will be discharged to Long-Term Acute Care"
  task_type: binary_classification

input:
  window_hours: 24                # First 24 hours of ICU data
  source: narratives

cohort:
  base: all                       # All ICU patients (shared with Task 1)
  filters: []

labels:
  column: label_ltach
  positive_class: disposition_ltach
  positive_value: 1
  negative_value: 0

class_balance:
  expected_positive_rate: 0.036   # ~3.6% discharged to LTACH
  strategy: none                  # Highly imbalanced - use AUPRC as primary

evaluation:
  primary_metric: auprc           # AUPRC preferred for imbalanced data
  metrics:
    - auroc
    - auprc
    - accuracy
    - precision
    - recall
    - f1
    - specificity
    - npv
  calibration: true
  subgroups:
    - age_group
    - sex_category

output:
  format: parquet
  files:
    - wide_dataset.parquet
    - labels.parquet
    - demographics.parquet
